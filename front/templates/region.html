{% extends 'base.html' %}

{% load i18n %}

{% block extra-head %}

	<title>MIM - {{regionlabel}}, {{country}}</title>

	<meta property="og:url" content="https://www.myingressmosaics.com/world/{{country}}/{{region}}">
	<meta property="og:type" content="website">
	<meta property="og:title" content="MIM - {{region}}, {{country}}">
	<meta property="og:description" content="MIM - {{region}}, {{country}} - Ingress Mosaics, Banners and Mission series">
	
{% endblock %}

{% block header %}

	Region
	
{% endblock %}

{% block content %}

<div id="page-container" ng-controller="RegionCtrl" ng-init="loadRegion('{{country}}', '{{region}}');">

{% verbatim %}

	<div class="block">
		<div class="title ttrans-normal">
		<div class="row">
			<div class="item grow">
				<a href="/"><i class="fa fa-home text-separator" style="margin-left:0;"></i> Home</a>
				<span class="text-separator">></span>
				<a href="/world/{{country}}">{{country}}</a>
			</div>
			<div class="item">
				<a href="/map/{{region}},{{country}}">
					<i class="fa fa-map text-separator"></i>
					Map
				</a>
			</div>
		</div>
	</div>
	</div>
	
	<div class="block">
		
		<h2 class="heading">
			{{getRegionLocaleLabel(country, region)}}
		</h2>
		
		<h3 class="subheading">
			{{region}}
			<span class="text-separator">&middot;</span>
			{{count|number}} Mosaics
		</h3>
		
	</div>
	
	<div class="block">
			
		<div class="title subblock">
			
			<div class="row valign-baseline">
			
				<div class="item grow">
					{{cities.length|number}} cities
				</div>
				
				<div class="item">
					<a class="badge-link badge-mini" ng-class="{'active': sort=='name'}", ng-click="sortByName();">Name</a>
				</div>

				<div class="item">
					<a class="badge-link badge-mini" ng-class="{'active': sort=='mosaics'}" ng-click="sortByMosaics();">Mosaics</a>
				</div>
				
			</div>
			
		</div>
	
		<div class="row">
			
			<div class="item-12 item-xl-3" ng-repeat="city in cities">
				
				<a href="/world/{{country}}/{{region}}/{{city.name}}" class="btn-primary btn-block">
					
					<div class="row valign-center">
						
						<div class="item grow ta-left ellipsis">
							{{city.locale}}
							<div ng-if="city.locale != city.name">
					        	<span class="subheading ttrans-normal">{{city.name}}</span>
							</div>
				        </div>
				        
				        <div class="item">
				        	<span class="badge-dark badge-mini">{{city.mosaics}}</span>
				        </div>
				        
					</div>
					
				</a>
		        
			</div>

		</div>
		
	</div>

	<div ng-if="user.superuser" class="block">
		
		<div class="panel" ng-repeat="city in cities">
			
			<div class="item grow">
				<input type="text" class="form-control" placeholder="" ng-model="city.newname" />
			</div>
			
			<div class="item">
				<button type="submit" class="btn btn-primary" ng-click="rename(city);">
					Rename
				</button>
			</div>
			
		</div>
		
	</div>

</div>

{% endverbatim %}
{% endblock %}
