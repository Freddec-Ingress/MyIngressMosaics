{% extends 'base.html' %}

{% load i18n %}

{% block extra-head %}

	<title>MIM - {{region}}, {{country}}</title>

	<meta property="og:url" content="https://www.myingressmosaics.com/world/{{country}}/{{region}}">
	<meta property="og:type" content="website">
	<meta property="og:title" content="MIM - {{region}}, {{country}}">
	<meta property="og:description" content="MIM - {{region}}, {{country}} - Ingress Mosaics, Banners and Mission series">
	
{% endblock %}

{% block header %}

	{{region}}
	
{% endblock %}

{% block content %}

<div id="page-container" ng-controller="RegionCtrl" ng-init="loadRegion('{{country}}', '{{region}}');">

{% verbatim %}

	<div class="block">
		
		<h2 class="heading">
			{{region}}
		</h2>
		
		<h3 class="subheading">
			{{count|number}} Mosaics
		</h3>
		
	</div>

	<div class="title ttrans-normal">
		<div class="row">
			<div class="item grow">
				<a href="/world">World</a>
				<span class="text-separator">></span>
				<a href="/world/{{country}}">{{country}}</a>
				<span class="text-separator">></span>
				<span class="c-white">{{region}}</span>
			</div>
			<div class="item">
				<a href="/map/{{region}},{{country}}">
					<i class="fa fa-map text-separator"></i>
					Map
				</a>
			</div>
		</div>
	</div>
	
	<div class="block">
	
		<div class="row">
			
			<div class="item-12" style="padding-top:.75rem; padding-bottom:.75rem;">
				<div class="row valign-baseline">
					
					<div class="item">
						Sort
					</div>
					
					<div class="item">
						<a class="badge-link" ng-class="{'active': sort=='mosaics'}" ng-click="sortByMosaics();">Mosaics</a>
					</div>
					
					<div class="item">
						<a class="badge-link" ng-class="{'active': sort=='name'}", ng-click="sortByName();">Name</a>
					</div>
					
				</div>
			</div>
			
			<div class="item-12 item-xl-3" ng-repeat="city in cities">
				
				<a href="/world/{{country}}/{{region}}/{{city.name}}" class="btn-primary btn-block">
					
					<div class="row valign-center">
						
						<div class="item grow ta-left ellipsis">
				        	{{city.name}}
				        </div>
				        
				        <div class="item">
				        	<span class="badge-dark badge-mini">{{city.mosaics}}</span>
				        </div>
				        
					</div>
					
				</a>
		        
			</div>

		</div>
		
	</div>

	<div ng-if="user.superuser" class="block">
		
		<div class="panel" ng-repeat="city in cities">
			
			<div class="item grow">
				<input type="text" class="form-control" placeholder="" ng-model="city.newname" />
			</div>
			
			<div class="item">
				<button type="submit" class="btn btn-primary" ng-click="rename(city);">
					Rename
				</button>
			</div>
			
		</div>
		
	</div>

</div>

{% endverbatim %}
{% endblock %}
