{% extends 'base.html' %}

{% load i18n %}

{% block extra-head %}

	<title>MIM - {{country}}</title>

	<meta property="og:url" content="https://www.myingressmosaics.com/world/{{country}}">
	<meta property="og:type" content="website">
	<meta property="og:title" content="MIM - {{country}}">
	<meta property="og:description" content="MIM - {{country}} - Ingress Mosaics, Banners and Mission series">
	
{% endblock %}

{% block header %}

	Country
	
{% endblock %}

{% block content %}

<div id="page-container" ng-controller="CountryCtrl" ng-init="loadCountry('{{country}}');">

{% verbatim %}

	<div class="block">
	
		<div class="title ttrans-normal">
			<div class="row">
				<div class="item grow">
					<a href="/"><i class="fa fa-home text-separator" style="margin-left:0;"></i> Home</a>
				</div>
				<div class="item">
					<a href="/map/{{country}}">
						<i class="fa fa-map text-separator"></i>
						Map
					</a>
				</div>
			</div>
		</div>
		
	</div>
	
	<div class="block">
		
		<h2 class="heading">
			{{getCountryLabel(country)}}
		</h2>
		
		<h3 class="subheading">
			{{country}}
			<span class="text-separator">&middot;</span>
			{{count|number}} Mosaics
		</h3>
		
	</div>

	<div class="block">
	
		<div class="title subblock">
			
			<div class="row valign-baseline">
			
				<div class="item grow">
					{{regions.length|number}} regions
				</div>
				
				<div class="item">
					<a class="badge-link badge-mini" ng-class="{'active': sort=='name'}", ng-click="sortByName();">Name</a>
				</div>

				<div class="item">
					<a class="badge-link badge-mini" ng-class="{'active': sort=='mosaics'}" ng-click="sortByMosaics();">Mosaics</a>
				</div>
				
			</div>
			
		</div>
		
		<div class="row">

			<div class="item-12 item-xl-3" ng-repeat="region in regions">
				
				<a href="/world/{{country}}/{{region.name}}" class="btn-primary btn-block">
					
					<div class="row valign-center">
						
						<div class="item grow ta-left ellipsis">
				        	{{region.name}}
				        </div>
				        
				        <div class="item">
				        	<span class="badge-dark badge-mini">{{region.mosaics}}</span>
				        </div>
				        
					</div>
					
				</a>
		        
			</div>

		</div>
		
	</div>

	<div ng-if="user.superuser" class="block">
		
		<div class="panel" ng-repeat="region in regions">
			
			<div class="item grow">
				<input type="text" class="form-control" placeholder="" ng-model="region.newname" />
			</div>
			
			<div class="item">
				<button type="submit" class="btn btn-primary" ng-click="rename(region);">
					Rename
				</button>
			</div>
			
		</div>
		
	</div>

</div>

{% endverbatim %}
{% endblock %}
